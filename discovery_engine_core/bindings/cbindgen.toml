# cbindgen config options: https://github.com/eqrion/cbindgen/blob/master/docs.md#cbindgentoml

language = "C"
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */"
include_version = true
sys_includes = ["stdint.h"]
no_includes = true

after_includes = """
// Typedefs to make sure these "unknown" types are treated as opaque by ffigen.
typedef struct RustDateTimeUtc RustDateTimeUtc;
typedef struct RustDuration RustDuration;
typedef struct RustEmbedding RustEmbedding;
typedef struct RustUrl RustUrl;
typedef struct RustUuid RustUuid;
"""

[parse]
parse_deps = true
include = ["xayn-discovery-engine-core", "xayn-discovery-engine-providers"]

[export.rename]
# Renamings to avoid name conflicts/confusion in dart.
"DateTimeUtc" = "RustDateTimeUtc"
"Document" = "RustDocument"
"Duration" = "RustDuration"
"DartMigrationData" = "RustDartMigrationData"
"Embedding" = "RustEmbedding"
"FfiUsize" = "RustFfiUsize"
"HistoricDocument" = "RustHistoricDocument"
"InitConfig" = "RustInitConfig"
"InitializationResult" = "RustInitializationResult"
"Market" = "RustMarket"
"MigrationDocument" = "RustMigrationDocument"
"MigrationSearch" = "RustMigrationSearch"
"NewsResource" = "RustNewsResource"
"Option_DartMigrationData" = "RustOptionDartMigrationData"
"Option_Embedding" = "RustOptionEmbedding"
"Option_f32" = "RustOptionF32"
"Option_MigrationSearch" = "RustOptionMigrationSearch"
"Option_String" = "RustOptionString"
"Option_Url" = "RustOptionUrl"
"Option_UserReaction" = "RustOptionUserReaction"
"Option_Vec_u8" = "RustOptionVecU8"
"Option_Duration" = "RustOptionDuration"
"Option_DateTimeUtc" = "RustOptionDateTimeUtc"
"Result_Document__String" = "RustResultDocumentString"
"Result_InitializationResult__String" = "RustResultInitializationResultString"
"Result_Search__String" = "RustResultSearchString"
"Result_SharedEngine__String" = "RustResultSharedEngineString"
"Result_String" = "RustResultVoidString"
"Result_Vec_Document_____String" = "RustResultVecDocumentString"
"Result_Vec_String_____String" = "RustResultVecStringString"
"Result_Vec_u8_____String" = "RustResultVecU8String"
"Search" = "RustSearch"
"SearchBy" = "RustSearchBy"
"SharedEngine" = "RustSharedEngine"
"String" = "RustString"
"TimeSpent" = "RustTimeSpent"
"Url" = "RustUrl"
"UserReacted" = "RustUserReacted"
"UserReaction" = "RustUserReaction"
"ViewMode" = "RustViewMode"
"Uuid" = "RustUuid"
"Vec_Document" = "RustVecDocument"
"Vec_HistoricDocument" = "RustVecHistoricDocument"
"Vec_Market" = "RustVecMarket"
"Vec_MigrationDocument" = "RustVecMigrationDocument"
"Vec_String" = "RustVecString"
"Vec_u8" = "RustVecU8"
"Vec_Uuid" = "RustVecUuid"
"Vec_WeightedSource" = "RustVecWeightedSource"
"WeightedSource" = "RustWeightedSource"
