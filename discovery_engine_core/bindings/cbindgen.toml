# cbindgen config options: https://github.com/eqrion/cbindgen/blob/master/docs.md#cbindgentoml

language = "C"
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */"
include_version = true
sys_includes = ["stdint.h"]
no_includes = true

after_includes = """
// Typedefs to make sure this "unknown" types are treated as opaque by ffigen.
typedef struct RustDuration RustDuration;
typedef struct RustEmbedding RustEmbedding;
typedef struct RustNaiveDateTime RustNaiveDateTime;
typedef struct RustUrl RustUrl;
typedef struct RustUuid RustUuid;
"""

[parse]
parse_deps = true
include = ["xayn-discovery-engine-core", "xayn-discovery-engine-providers"]

[export.rename]
# Renamings to avoid name conflicts/confusion in dart.
"Document" = "RustDocument"
"Duration" = "RustDuration"
"Embedding" = "RustEmbedding"
"HistoricDocument" = "RustHistoricDocument"
"InitConfig" = "RustInitConfig"
"Market" = "RustMarket"
"NaiveDateTime" = "RustNaiveDateTime"
"NewsResource" = "RustNewsResource"
"Option_f32" = "RustOptionF32"
"Option_String" = "RustOptionString"
"Option_Url" = "RustOptionUrl"
"Result_SharedEngine__String" = "RustResultSharedEngineString"
"Result_String" = "RustResultVoidString"
"Result_Vec_Document_____String" = "RustResultVecDocumentString"
"Result_Vec_u8_____String" = "RustResultVecU8String"
"SharedEngine" = "RustSharedEngine"
"String" = "RustString"
"TimeSpent" = "RustTimeSpent"
"Url" = "RustUrl"
"UserReacted" = "RustUserReacted"
"UserReaction" = "RustUserReaction"
"Uuid" = "RustUuid"
"Vec_Document" = "RustVecDocument"
"Vec_HistoricDocument" = "RustVecHistoricDocument"
"Vec_Market" = "RustVecMarket"
"Vec_String" = "RustVecString"
"Vec_u8" = "RustVecU8"
