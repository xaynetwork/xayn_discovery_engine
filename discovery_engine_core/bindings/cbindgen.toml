# cbindgen config options: https://github.com/eqrion/cbindgen/blob/master/docs.md#cbindgentoml

language = "C"
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */"
include_version = true
sys_includes = ["stdint.h"]
no_includes = true

after_includes = """
// Typedefs to make sure this "unknown" types are treated as opaque by ffigen.
typedef struct RustDocument RustDocument;
typedef struct RustDuration RustDuration;
typedef struct RustEmbedding RustEmbedding;
typedef struct RustInitConfig RustInitConfig;
typedef struct RustMarket RustMarket;
typedef struct RustNaiveDateTime RustNaiveDateTime;
typedef struct RustNewsResource RustNewsResource;
typedef struct RustTimeSpent RustTimeSpent;
typedef struct RustUrl RustUrl;
typedef struct RustUserReacted RustUserReacted;
typedef struct RustUuid RustUuid;
"""

[parse]
parse_deps = true
include = ["xayn-discovery-engine-core"]

[export.rename]
# Renamings to avoid name conflicts/confusion in dart.
"Document" = "RustDocument"
"Vec_Document" = "RustDocumentVec"
"Duration" = "RustDuration"
"Embedding" = "RustEmbedding"
"InitConfig" = "RustInitConfig"
"NaiveDateTime" = "RustNaiveDateTime"
"NewsResource" = "RustNewsResource"
"Market" = "RustMarket"
"Option_f32" = "RustOptionF32"
"Option_Url" = "RustOptionUrl"
"String" = "RustString"
"TimeSpent" = "RustTimeSpent"
"Url" = "RustUrl"
"UserReacted" = "RustUserReacted"
"UserReaction" = "RustUserReaction"
"Uuid" = "RustUuid"
"Vec_Market" = "RustMarketVec"
