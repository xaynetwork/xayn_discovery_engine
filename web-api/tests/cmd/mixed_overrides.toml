bin.name = "ingestion"
args = ["--print-config", "--config", "tests/cmd/assets/config.toml", "--bind-to", "127.4.3.2:1099"]
status.code = 0
stderr = ""
stdout = """
{
  "logging": {
    "file": "[CWD]/tests/cmd/assets/foo/bar.log"
  },
  "net": {
    "bind_to": "127.4.3.2:1099",
    "max_body_size": 64
  },
  "storage": {
    "elastic": {
      "url": "http://localhost:3219",
      "user": "tic",
      "password": "[REDACTED]",
      "index_name": "other_index"
    },
    "postgres": {
      "base_url": "postgres://user:pw@localhost:5432/xayn",
      "port": 42,
      "user": "postgres",
      "password": "[REDACTED]",
      "db": "mydb",
      "application_name": "the-application",
      "skip_migrations": false
    }
  },
  "ingestion": {
    "max_document_batch_size": 999999
  },
  "embedding": {
    "directory": "assets"
  }
}
"""
